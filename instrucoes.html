<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Guia de Estudo: CI, CD e DataOps - Resumo Prático</title>
  <style>
    :root{--brand:#0b66c3;--muted:#6b7280}
    body{font-family:Inter,Segoe UI,Arial,sans-serif;background:#f7fafc;color:#0f172a;margin:0;padding:28px}
    header{background:linear-gradient(90deg,#ffffff,#f1f8ff);border-radius:10px;padding:18px;margin-bottom:18px;box-shadow:0 2px 6px rgba(11,102,195,0.06)}
    h1{color:var(--brand);margin:0;font-size:22px}
    p.lead{margin:8px 0 0;color:var(--muted)}
    section{background:#fff;padding:16px;border-radius:10px;margin-bottom:12px;box-shadow:0 1px 4px rgba(2,6,23,0.03)}
    h2{color:var(--brand);font-size:18px;margin-top:0}
    ul{margin:8px 0 12px 20px}
    pre{background:#f1f5f9;border-left:4px solid #e6eef8;padding:12px;border-radius:6px;overflow:auto}
    table{width:100%;border-collapse:collapse;margin-top:8px}
    th,td{border:1px solid #e6eef8;padding:8px;text-align:left}
    th{background:#f8fbff;color:var(--brand)}
    .note{background:#fff7eb;border-left:4px solid #f0c040;padding:10px;border-radius:6px}
    footer{font-size:13px;color:var(--muted);margin-top:14px}
  </style>
</head>
<body>
  <header>
    <h1>Guia de Estudo — CI, CD e DataOps</h1>
    <p class="lead">Resumo prático para revisar antes de aplicar em aula. Conceitos, exemplos e uma trilha de prática.</p>
  </header>

  <section>
    <h2>1. Conceitos essenciais</h2>
    <h3>Continuous Integration (CI)</h3>
    <p><strong>Definição:</strong> prática de integrar frequentemente alterações de código em um repositório compartilhado, com execução automática de testes e validações.</p>
    <p><strong>Pontos chave:</strong></p>
    <ul>
      <li>Gatilho comum: <code>push</code> ou Pull Request (PR).</li>
      <li>Validações típicas: linting, testes unitários, testes de integração, validações de dados.</li>
      <li>Objetivo: feedback rápido — detectar problemas em minutos.</li>
    </ul>

    <h3>Continuous Delivery (CD)</h3>
    <p><strong>Definição:</strong> automatizar a entrega do que foi validado (artefatos, scripts, datasets) para um ambiente de homologação ou produção.</p>
    <p><strong>Observação:</strong> Continuous Delivery pode exigir aprovação humana antes do deploy; Continuous Deployment realiza o deploy automaticamente sem intervenção.</p>
  </section>

  <section>
    <h2>2. Relação entre CI e CD — como se complementam</h2>
    <p>O fluxo típico:</p>
    <pre>Commit → CI (lint, tests, validações) → APROVADO → CD (empacotar + entregar) → Deploy/Publish → Monitoramento</pre>
    <p class="note">Importante: a validação é feita na etapa de CI. Somente quando os checks passam, o CD deve executar a entrega.</p>
  </section>

  <section>
    <h2>3. Validação no contexto DataOps</h2>
    <p>Em DataOps, validar significa checar que os dados e os pipelines produzem resultados confiáveis e consistentes:</p>
    <ul>
      <li>Schema checks — colunas esperadas e tipos.</li>
      <li>Checks de qualidade — valores nulos, outliers, regras de negócio.</li>
      <li>Execução do ETL — o script roda e gera o artefato esperado (arquivo, tabela).</li>
      <li>Testes automatizados que simulam entradas conhecidas e verificam saídas.</li>
    </ul>

    <p>Exemplo de etapa simples de validação no GitHub Actions (YAML):</p>
    <pre>- name: Validar ETL
  run: |
    python etl_vendas.py
    test -f vendas_transformadas.csv</pre>
  </section>

  <section>
    <h2>4. Entrega (CD) no contexto DataOps</h2>
    <p>A entrega pode ser:</p>
    <ul>
      <li>Publicar o arquivo gerado em um bucket (S3/GCS/Azure Blob).</li>
      <li>Atualizar uma branch de produção com o artefato.</li>
      <li>Acionar um job que atualiza dashboards ou re-treina modelos.</li>
    </ul>

    <p>Exemplo de passo simples de CD (simulação):</p>
    <pre>- name: Deploy do artefato
  run: |
    mkdir -p deploy
    cp vendas_transformadas.csv deploy/
    echo "Arquivo entregue em /deploy"</pre>
  </section>

  <section>
    <h2>5. Exemplo completo — Workflow CI + CD (comentado)</h2>
    <p>Abaixo um exemplo de arquivo YAML para uso em GitHub Actions que demonstra CI (validação) e CD (entrega simulada) em sequência.</p>
    <pre><code>name: CI/CD DataOps - ETL

on:
  push:
    branches: [ main ]

jobs:
  ci:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'
      - name: Install deps
        run: |
          python -m pip install --upgrade pip
          pip install pandas
      - name: Run ETL (validation)
        run: |
          python etl_vendas.py
          test -f vendas_transformadas.csv

  cd:
    needs: ci
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Deploy artifact (simulado)
        run: |
          mkdir -p deploy
          cp vendas_transformadas.csv deploy/
          echo "Arquivo entregue em deploy/"</code></pre>

    <p class="note">Aqui, o job <code>cd</code> tem <code>needs: ci</code>, o que garante que a entrega só ocorrerá se a validação (CI) passar.</p>
  </section>

  <section>
    <h2>6. Trilha de prática recomendada (passos)</h2>
    <ol>
      <li>Revisar Git básico e fluxo local → remoto (git add/commit/push).</li>
      <li>Subir um repositório com script ETL simples (`etl_vendas.py` + `vendas.csv`).</li>
      <li>Adicionar workflow de CI que executa o script e valida a saída.</li>
      <li>Adicionar job de CD que publica o artefato (simulado ou real).</li>
      <li>Testar casos de erro (ex.: dados com formato errado) e observar falhas no CI.</li>
      <li>Documentar o pipeline no README e explicar o que cada passo faz.</li>
    </ol>
  </section>

  <section>
    <h2>7. Checklist rápido para a aula</h2>
    <ul>
      <li>Repositório no GitHub criado e acessível aos alunos</li>
      <li>Arquivo `etl_vendas.py` e `vendas.csv` prontos</li>
      <li>Workflow YAML colocado em <code>.github/workflows/</code></li>
      <li>Instruções no README para fork, commit e PR</li>
      <li>Ambiente do instrutor testado (push e execução do Actions)</li>
    </ul>
  </section>

  <footer>
    <p>Guia gerado para a Prof.ª Débora Paulo — uso em aula do MBA DevOps & DataOps. Se quiser, posso converter este guia em PDF ou preparar um slide com os pontos principais.</p>
  </footer>
</body>
</html>
